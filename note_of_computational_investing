Note of Computational Investing

/*------------------------------
* Week 1
*------------------------------*/

Annual Return
Daily Return
stdev of daily returns
Draw down
Sharpe raito
sortino raito(only measure the downward)
jensen's alpha

Max draw down

how to compare similar portfolios?
daily_rets[i]=(value[i]/value[i-1])-1
stdev_metric=stdev(daliy_rets)

/*------------------------------
* Sharpe Ratio
*------------------------------*/
>Most 'important' measure of asset performance
>How well does the return of an asset compensate the investor for the risk taken
>The higher the Sharpe ratio the better
>When comparing two assets each with the same return, higher Sharpe ratio gives more return for the same risk

>Reward/Risk=How much reward are you getting for your risk?
>metric=k * ( mean(daily_rets)/stdev(daily_rets) )
>k=sqrt(250) for daily returns
note:the 250 here stand for days in trading of the year

/*------------------------------
* Homework and Demo with Excel
*------------------------------*/
>Yahoo Finance -> any equity -> historial prices
save as csv
Adj Close

Homework1
paper trade 1M in 4 equities
assess profolio
compare with the benchmark like SYP

/*------------------------------
* Week 2
*------------------------------*/
Mechaince of market
>order types
>order book at exchanges
>how buy/sell orders drive prices up or down
>basic infrastructure of an exchange
>the major computational components of a hedge fund

need to go through a broker to buy the equity(symbol)

market order, limit order
shares
price

for example: IBM, buy, market, 100
market orders are executed at the market price

concept:the order book
---------(ask for sell, bid for buy)
ask $100.10   100
ask $100.05   500
ask $100.00   1000
bid $99.95   100
bid $99.90   50
bid $99.85   50
---------

invest.tdameritrade.com
"The documents required to open an account are the account application, a W-8BEN, a copy of your visa or passport and a bank or brokerage statement showing your name and address in English. You can mail these to: TD Ameritrade P.O. Box 2760 Omaha, NE 68103 United States.
See forms below:
Account Application: http://www.tdameritrade.com/forms/TDA186.pdf
W-8BEN: http://www.irs.gov/pub/irs-pdf/fw8ben.pdf
Client Agreement: https://www.tdameritrade.com/retail-en_us/resources/pdf/AMTD182.pdf
Commissions & Fees: https://www.tdameritrade.com/retail-en_us/resources/pdf/TDA4075.pdf
Privacy Statement: https://www.tdameritrade.com/retail-en_us/resources/pdf/AMTD800.pdf
Margin Disclosure: https://www.tdameritrade.com/retail-en_us/resources/pdf/AMTD845.pdf"

/*------------------------------
* How Brokers Connected to Exchanges
*------------------------------*/
Types of Orders(with your Broker)
>Additional possibilities
sell short(to open)---bet against market
buy(to close)
>More complex orders(stop limit)

Machanics of Short Selling
>Borrow the shares
>Sell them
>You now have
asset:cash
liability:shares owed

/*------------------------------
* How hedge funds exploit market
*------------------------------*/
mechanics1:order book observation
->rack space colocation in the stock exchange observe the gap of price
mechanics2:arbitrage
->NASDAQ has IBM ask for $100.00
->NYSE has IBM bid for $100.10

Inside a (slower) Quant Shop
historical price data->target portfolio->trading algorithm->order->market
market->live portfolio->trading algorithm

where the target portfolio comes from:
->n-day forcast->portfolio optimizer(risk constraints)
->current portfolio->portfolio optimizer
->historical price data->portfolio optimizer

where the n-day forcast comes from:
->information feed(news,fingers)->forcasting algorithm->n-day forcast
->historical price data->forcasting algorithm->n-day forcast
note:machine learning for forcasting algorithm

/*------------------------------
* Company's Value
*------------------------------*/
>Market cap
>Future dividends
>Book value

for example:
National Company
>print $1/year each year, forever
>what is this company worth?

What is current value of a future $1
lets say the bank profit $1 if you invest $0.99 in a year
then the current value is $0.95 for future $1
then 2 years is $0.95^2 of current value

Intrinsic Value
>"future income generated by the asset, and discounting it to to the present value."
>sum(dividend * gamma^i)=dividend * 1/(1-gamma)

Why/How does information affect price?
>informs traders about the company's capacity to make money in the future
>examples(CEO effectiveness,cost of raw materials)

Local and Global Affects

What's a company worth?
>Fundamental analysis:Value is sum of
->Book value
->Future returns, or "intrinsic" value

Intrinsic Value
"future income generated by the asset, and discounting it to the present value"
sum(dividend * gamma^i) = dividend * 1/(1 - gamma)

Book Value
"total assets minus intangible assets and liabilities"

How does the market know?
value=#shares outstanding * price

/*------------------------------
* Overview and Installation of QSTK and Test Data
*------------------------------*/
wiki.quantsoftware.org

/*------------------------------
* Capital Assets Pricing Model
*------------------------------*/
Live Market Example

CAPM:
>introduced by Jack Treynor,William Sharpe,John Lintner and Jan Mossin(1966)
>Sharpe,Markowitz and Merton Miller jointly received the Nobel Price

CAPM:Assumptions
>Return on stock has two components:
->Systematic(the market)
->Residual
>Expected value of residual=0
>Market return:
->Risk free rate of return +
->Excess return

The Market Portfolio
>Usually broad market-cap weighted index
US:S&P 500
UK:FTA
Japan:TOPIX
>Remember our company that printed $1 bill?
>Island analogy

CAPM:Definition of Beta
>Assume: r(of i)(t)=beta(of i) * r(of m)(t)+alpha(of i)
>Use linear regression(line fitting) to find beta and alpha

Beta & Correlation with the Market

Beta & Correlation are Different!

CAPM:Expected Residual=0
>CAPM:
->r(of i)(t)=beta(of i) * r(of m)(t)+alpha(of i)
->r(of i)(t)=beta(of i) * r(of m)(t)+random
>Active Portfolio Management View
r(of i)(t)=beta(of i) * r(of m)(t)+alpha(of i)

CAPM:Implications
>Expected excess returns are proportional to beta
>Beta of a portfolio = weighted sum of betas of components

Portfolio Beta Example

CAPM Market Risk: Example

CAPM Market Risk: Long & Short
removing market risk
